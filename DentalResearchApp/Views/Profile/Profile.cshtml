@model DentalResearchApp.Models.UserModel

@{
    ViewBag.Title = "Profile";
    Layout = "~/Views/_Layout.cshtml";
}

<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../css/3rdParty/bootstrap.min.css" />
    <script type="text/javascript" src="../js/3rdParty/jquery.min.js"></script>
    <script src="../js/3rdParty/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/css/Index.css" type="text/css" />
    <title>Dental Research App - Profile</title>
</head>
<body>
    <h1 class="secondHeadline" style="text-align: center">Profile</h1>
    <div>
        <hr />
        <ul class="list-unstyled">
            <li class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right">
                    @Html.Label("First Name: ")
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: left">
                    @Html.DisplayFor(model => model.FirstName)
                </div>
            </li>
            <li class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right">
                    @Html.Label("Last Name: ")
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: left">
                    @Html.DisplayFor(model => model.LastName)
                </div>
            </li>
            <li class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right">
                    @Html.Label("E-Mail: ")
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: left">
                    @Html.DisplayFor(model => model.Email)
                </div>
            </li>
            <li class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right">
                    @Html.Label("Institution: ")
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: left">
                    @Html.DisplayFor(model => model.Institution)
                </div>
            </li>
            <li class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right">
                    @Html.Label("Country: ")
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: left">
                    @Html.DisplayFor(model => model.Country)
                </div>
            </li>
            <li class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right">
                    @Html.Label("Role: ")
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="font-weight: bold; font-style: italic; text-align: left">
                    @Html.DisplayFor(model => model.Role)
                </div>
            </li>


            <li class="col-lg-12 col-md-12 col-sm-12" style="text-align: center ">

                <button href="/Profile/ChangePasswordModal" data-email="@Model.Email" class="changepassword-modal btn btn-primary">Change password</button>
            <hr />
            </li>
            <li class="col-lg-12 col-md-12 col-sm-12" style="text-align: center ">
                @Html.ActionLink("Admin", "Admin", "Admin", null, new { @class = "btn btn-success", style = Model.Role != DentalResearchApp.Models.Role.Administrator ? "visibility: hidden" : "visibility: visible" })
            </li>
        </ul>
        <div class="modal fade text-center" id="ChangePasswordModal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">
        $('.changepassword-modal').on('click', function (e) {
            e.preventDefault();
            var email = $(e.relatedTarget).data('email');

            $('#ChangePasswordModal').modal('show').find('.modal-content').val(email).load($(this).attr('href'));
        });
    </script>

    @if (ViewBag.Message != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                alert("@ViewBag.Message");
            };
        </script>
    }

</body>
</html>
